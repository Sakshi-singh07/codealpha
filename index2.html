
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Language Translation Tool</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.3/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body { background-color: #121212; color: #f5f5f5; }
        .fade-in { animation: fadeIn 2s ease-in-out; }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-left-color: #f3f3f3;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-4">
    <div class="max-w-lg w-full">
        <div class="mb-4">
            <textarea id="textInput" class="w-full p-2 rounded bg-gray-800 text-white" rows="4" placeholder="Enter text to translate..."></textarea>
        </div>
        <div class="flex mb-4">
            <select id="sourceLang" class="w-1/2 p-2 rounded bg-gray-800 text-white mr-2">
                <option value="en">English</option>
                <option value="es">Spanish</option>
                <option value="hi">Hindi</option>
                <option value="ur">Urdu</option>
                <option value="ja">Japanese</option>
                <option value="de">German</option>
                <!-- Add more language options as needed -->
            </select>
            <select id="targetLang" class="w-1/2 p-2 rounded bg-gray-800 text-white ml-2">
                <option value="es">Spanish</option>
                <option value="en">English</option>
                <option value="hi">Hindi</option>
                <option value="ur">Urdu</option>
                <option value="ja">Japanese</option>
                <option value="de">German</option>
                <!-- Add more language options as needed -->
            </select>
        </div>
        <button id="translateBtn" class="w-full p-2 bg-cyan-500 text-black rounded hover:bg-cyan-600">Translate</button>
        <div id="spinner" class="spinner mt-4" style="display: none;"></div>
        <div id="translatedText" class="mt-4 text-xl font-semibold fade-in" style="visibility: hidden;"></div>
        <div class="flex mt-2">
            <button id="copyBtn" class="mr-2 p-2 bg-green-500 text-black rounded hover:bg-green-600">Copy</button>
            <button id="speakBtn" class="p-2 bg-yellow-500 text-black rounded hover:bg-yellow-600">Speak</button>
        </div>
    </div>

    <script>
        document.getElementById('translateBtn').addEventListener('click', function () {
            const textInput = document.getElementById('textInput').value;
            const sourceLang = document.getElementById('sourceLang').value;
            const targetLang = document.getElementById('targetLang').value;
            const spinner = document.getElementById('spinner');
            const translatedTextElem = document.getElementById('translatedText');

            translatedTextElem.style.visibility = 'hidden';
            spinner.style.display = 'block';

            fetch("https://backend.buildpicoapps.com/aero/run/llm-api?pk=v1-Z0FBQUFBQm9sNHlWbjFkWktOVWIyQ2lXQ0FOYVRZQ05VNGdfWXNiSXNjMm1UbUFIR3pab2RVemp4LXZrTXZDMVpiLS1YVVZQdlRCbUFIQ0gxcktkWHV1dUhFV1dUMzFJNEE9PQ==", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ prompt: `Translate this text from ${sourceLang} to ${targetLang}: ${textInput}` })
            })
            .then(response => response.json())
            .then(data => {
                spinner.style.display = 'none';
                if (data.status === 'success') {
                    translatedTextElem.textContent = data.text;
                    translatedTextElem.style.visibility = 'visible';
                } else {
                    translatedTextElem.textContent = 'Error: Translation unsuccessful. Please try again.';
                    translatedTextElem.style.visibility = 'visible';
                    console.error('Translation Error:', data);
                }
            })
            .catch(error => {
                spinner.style.display = 'none';
                translatedTextElem.textContent = 'Network error. Please try again later.';
                translatedTextElem.style.visibility = 'visible';
                console.error('Fetch Error:', error);
            });
        });

        document.getElementById('copyBtn').addEventListener('click', function () {
            const range = document.createRange();
            const translatedTextElem = document.getElementById('translatedText');
            range.selectNode(translatedTextElem);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();
        });

        document.getElementById('speakBtn').addEventListener('click', function () {
            const textToSpeak = document.getElementById('translatedText').textContent;
            const msg = new SpeechSynthesisUtterance(textToSpeak);
            window.speechSynthesis.speak(msg);
        });
    </script>
</body>
</html>
